name: ‚úç Generate Changelog / Release notes (git-cliff)

# Controls when the action will run.
on:
  # Triggers the workflow on push or pull request events but only for specific branches
  push:
    branches: [ main ]
    # paths-ignore:
    #   - 'docs/**'
    #   - '.github/**'
    #   - 'README.m**'

  # Allows you to run this workflow manually from the Actions tab
  workflow_dispatch:

# A workflow run is made up of one or more jobs that can run sequentially or in parallel
jobs:
    run-changelog-generator:
      runs-on: ubuntu-latest
      steps:
        - name: Check out repository
          uses: actions/checkout@v4
          with:
            fetch-depth: 0
      
        - name: Install git-cliff
          uses: taiki-e/install-action@git-cliff
        
        - name: Generate changelog
          run: git-cliff
          # with:
          #   config file location
          #   config: # optional, default is cliff.toml
          #   git-cliff arguments
          #   args: # optional, default is -v
